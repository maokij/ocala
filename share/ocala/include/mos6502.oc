// -*- mode: ocala; -*-
arch mos6502
include "noarch.oc"

////////////////////////////////////////////////////////////
// while macros
////////////////////////////////////////////////////////////
macro while(cond) {
    $(_BEG) -jump-if %=cond
}

macro while/X-() {
    X --
    $(_BEG) -jump-if NE?
}

macro while/Y-() {
    Y --
    $(_BEG) -jump-if NE?
}

////////////////////////////////////////////////////////////
// misc macros
////////////////////////////////////////////////////////////
macro outw(addr a b) {
    @%=a -> [%=addr]
    @%=b -> [%=addr]
}

macro set-carry() {
    SEC
}

macro clear-carry() {
    CLC
}

macro clear-over() {
    CLV
}
